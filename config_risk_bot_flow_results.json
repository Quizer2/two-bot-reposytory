{
  "timestamp": "2025-09-30T20:25:29.470200",
  "test_type": "ConfigManager → RiskManager → Bot Flow",
  "results": [
    {
      "test": "Risk Limits Update",
      "status": "PASSED",
      "details": "Risk settings updated and events propagated. Events: 0 → 1"
    },
    {
      "test": "Bot Reaction to Risk Changes",
      "status": "SKIPPED",
      "details": "BotManager not available"
    },
    {
      "test": "Risk Validation",
      "status": "FAILED",
      "details": "Invalid risk settings were accepted (validation failed)"
    },
    {
      "test": "RiskManager Integration",
      "status": "FAILED",
      "details": "Poor RiskManager integration. Available methods: ['get_risk_metrics']"
    },
    {
      "test": "Event Propagation Chain",
      "status": "PASSED",
      "details": "Event chain working correctly. Received 2 config events"
    }
  ],
  "events_received": [
    {
      "timestamp": "2025-09-30T20:25:29.265253",
      "event_type": "CONFIG_UPDATED",
      "data": {
        "config_type": "app",
        "old_config": {
          "app": {
            "name": "CryptoBotDesktop",
            "version": "1.0.0",
            "debug": false,
            "auto_start_bots": false,
            "auto_restart_bots": true,
            "offline_mode": false,
            "language": "pl",
            "timezone": "Europe/Warsaw"
          },
          "database": {
            "path": "data/database.db",
            "backup_interval_hours": 24,
            "max_backups": 7,
            "auto_backup": true,
            "backup_path": "data/backup"
          },
          "logging": {
            "level": "INFO",
            "max_file_size_mb": 10,
            "max_files": 5,
            "log_to_console": true,
            "log_to_file": true,
            "log_to_database": true,
            "cleanup_days": 30
          },
          "security": {
            "session_timeout_minutes": 60,
            "max_login_attempts": 5,
            "lockout_duration_minutes": 15,
            "require_password_change_days": 90,
            "min_password_length": 8,
            "encryption_algorithm": "AES-256",
            "auto_lock_minutes": 30
          },
          "exchanges": {
            "default": "binance",
            "available": [
              "binance",
              "bybit",
              "kucoin",
              "coinbase",
              "kraken",
              "bitfinex"
            ]
          },
          "trading": {
            "default_quote_currency": "USDT",
            "min_order_amount": 10.0,
            "max_order_amount": 10000.0,
            "default_stop_loss_percent": 5.0,
            "default_take_profit_percent": 10.0,
            "max_open_positions": 10,
            "paper_trading": false,
            "slippage_tolerance_percent": 0.5,
            "enabled": true,
            "mode": "live",
            "default_exchange": "coinbase",
            "updated_at": "2025-09-30T20:19:47.662321",
            "risk_management": {
              "max_daily_loss": 500.0,
              "max_position_size": 1000.0,
              "stop_loss_percentage": 5.0,
              "take_profit_percentage": 10.0,
              "max_open_positions": 3
            }
          },
          "test_section": {
            "test_value": "test_data",
            "updated_at": "2025-09-30T20:19:47.663861"
          },
          "risk_management": {
            "max_daily_loss": 1.0,
            "max_position_size": 1000.0,
            "max_drawdown": 5.0,
            "default_stop_loss": 1.5,
            "default_take_profit": 3.0,
            "max_open_positions": 5,
            "risk_per_trade": 1.0,
            "updated_at": "2025-09-30T20:19:47.650839"
          },
          "bots": {
            "test_bot": {
              "enabled": true,
              "strategy": "ai_trading",
              "symbol": "BTCUSDT",
              "amount": 100.0,
              "interval": "1h"
            }
          }
        },
        "new_config": {
          "app": {
            "name": "CryptoBotDesktop",
            "version": "1.0.0",
            "debug": false,
            "auto_start_bots": false,
            "auto_restart_bots": true,
            "offline_mode": false,
            "language": "pl",
            "timezone": "Europe/Warsaw"
          },
          "database": {
            "path": "data/database.db",
            "backup_interval_hours": 24,
            "max_backups": 7,
            "auto_backup": true,
            "backup_path": "data/backup"
          },
          "logging": {
            "level": "INFO",
            "max_file_size_mb": 10,
            "max_files": 5,
            "log_to_console": true,
            "log_to_file": true,
            "log_to_database": true,
            "cleanup_days": 30
          },
          "security": {
            "session_timeout_minutes": 60,
            "max_login_attempts": 5,
            "lockout_duration_minutes": 15,
            "require_password_change_days": 90,
            "min_password_length": 8,
            "encryption_algorithm": "AES-256",
            "auto_lock_minutes": 30
          },
          "exchanges": {
            "default": "binance",
            "available": [
              "binance",
              "bybit",
              "kucoin",
              "coinbase",
              "kraken",
              "bitfinex"
            ]
          },
          "trading": {
            "default_quote_currency": "USDT",
            "min_order_amount": 10.0,
            "max_order_amount": 10000.0,
            "default_stop_loss_percent": 5.0,
            "default_take_profit_percent": 10.0,
            "max_open_positions": 10,
            "paper_trading": false,
            "slippage_tolerance_percent": 0.5,
            "enabled": true,
            "mode": "live",
            "default_exchange": "coinbase",
            "updated_at": "2025-09-30T20:19:47.662321",
            "risk_management": {
              "max_daily_loss": 200.0,
              "max_position_size": 500.0,
              "stop_loss_percentage": 3.0,
              "take_profit_percentage": 15.0,
              "max_open_positions": 2
            }
          },
          "test_section": {
            "test_value": "test_data",
            "updated_at": "2025-09-30T20:19:47.663861"
          },
          "risk_management": {
            "max_daily_loss": 1.0,
            "max_position_size": 1000.0,
            "max_drawdown": 5.0,
            "default_stop_loss": 1.5,
            "default_take_profit": 3.0,
            "max_open_positions": 5,
            "risk_per_trade": 1.0,
            "updated_at": "2025-09-30T20:19:47.650839"
          },
          "bots": {
            "test_bot": {
              "enabled": true,
              "strategy": "ai_trading",
              "symbol": "BTCUSDT",
              "amount": 100.0,
              "interval": "1h"
            }
          }
        },
        "timestamp": "2025-09-30T20:25:29.264494"
      }
    },
    {
      "timestamp": "2025-09-30T20:25:29.468655",
      "event_type": "CONFIG_UPDATED",
      "data": {
        "config_type": "app",
        "old_config": {
          "app": {
            "name": "CryptoBotDesktop",
            "version": "1.0.0",
            "debug": false,
            "auto_start_bots": false,
            "auto_restart_bots": true,
            "offline_mode": false,
            "language": "pl",
            "timezone": "Europe/Warsaw"
          },
          "database": {
            "path": "data/database.db",
            "backup_interval_hours": 24,
            "max_backups": 7,
            "auto_backup": true,
            "backup_path": "data/backup"
          },
          "logging": {
            "level": "INFO",
            "max_file_size_mb": 10,
            "max_files": 5,
            "log_to_console": true,
            "log_to_file": true,
            "log_to_database": true,
            "cleanup_days": 30
          },
          "security": {
            "session_timeout_minutes": 60,
            "max_login_attempts": 5,
            "lockout_duration_minutes": 15,
            "require_password_change_days": 90,
            "min_password_length": 8,
            "encryption_algorithm": "AES-256",
            "auto_lock_minutes": 30
          },
          "exchanges": {
            "default": "binance",
            "available": [
              "binance",
              "bybit",
              "kucoin",
              "coinbase",
              "kraken",
              "bitfinex"
            ]
          },
          "trading": {
            "default_quote_currency": "USDT",
            "min_order_amount": 10.0,
            "max_order_amount": 10000.0,
            "default_stop_loss_percent": 5.0,
            "default_take_profit_percent": 10.0,
            "max_open_positions": 10,
            "paper_trading": false,
            "slippage_tolerance_percent": 0.5,
            "enabled": true,
            "mode": "live",
            "default_exchange": "coinbase",
            "updated_at": "2025-09-30T20:19:47.662321",
            "risk_management": {
              "max_daily_loss": 200.0,
              "max_position_size": 500.0,
              "stop_loss_percentage": 3.0,
              "take_profit_percentage": 15.0,
              "max_open_positions": 2
            }
          },
          "test_section": {
            "test_value": "test_data",
            "updated_at": "2025-09-30T20:19:47.663861"
          },
          "risk_management": {
            "max_daily_loss": 1.0,
            "max_position_size": 1000.0,
            "max_drawdown": 5.0,
            "default_stop_loss": 1.5,
            "default_take_profit": 3.0,
            "max_open_positions": 5,
            "risk_per_trade": 1.0,
            "updated_at": "2025-09-30T20:19:47.650839"
          },
          "bots": {
            "test_bot": {
              "enabled": true,
              "strategy": "ai_trading",
              "symbol": "BTCUSDT",
              "amount": 100.0,
              "interval": "1h"
            }
          }
        },
        "new_config": {
          "app": {
            "name": "CryptoBotDesktop",
            "version": "1.0.0",
            "debug": false,
            "auto_start_bots": false,
            "auto_restart_bots": true,
            "offline_mode": false,
            "language": "pl",
            "timezone": "Europe/Warsaw"
          },
          "database": {
            "path": "data/database.db",
            "backup_interval_hours": 24,
            "max_backups": 7,
            "auto_backup": true,
            "backup_path": "data/backup"
          },
          "logging": {
            "level": "INFO",
            "max_file_size_mb": 10,
            "max_files": 5,
            "log_to_console": true,
            "log_to_file": true,
            "log_to_database": true,
            "cleanup_days": 30
          },
          "security": {
            "session_timeout_minutes": 60,
            "max_login_attempts": 5,
            "lockout_duration_minutes": 15,
            "require_password_change_days": 90,
            "min_password_length": 8,
            "encryption_algorithm": "AES-256",
            "auto_lock_minutes": 30
          },
          "exchanges": {
            "default": "binance",
            "available": [
              "binance",
              "bybit",
              "kucoin",
              "coinbase",
              "kraken",
              "bitfinex"
            ]
          },
          "trading": {
            "default_quote_currency": "USDT",
            "min_order_amount": 10.0,
            "max_order_amount": 10000.0,
            "default_stop_loss_percent": 5.0,
            "default_take_profit_percent": 10.0,
            "max_open_positions": 10,
            "paper_trading": false,
            "slippage_tolerance_percent": 0.5,
            "enabled": true,
            "mode": "live",
            "default_exchange": "coinbase",
            "updated_at": "2025-09-30T20:19:47.662321",
            "risk_management": {
              "max_daily_loss": -100.0,
              "max_position_size": 0,
              "stop_loss_percentage": 150.0,
              "take_profit_percentage": -5.0,
              "max_open_positions": -1
            }
          },
          "test_section": {
            "test_value": "test_data",
            "updated_at": "2025-09-30T20:19:47.663861"
          },
          "risk_management": {
            "max_daily_loss": 1.0,
            "max_position_size": 1000.0,
            "max_drawdown": 5.0,
            "default_stop_loss": 1.5,
            "default_take_profit": 3.0,
            "max_open_positions": 5,
            "risk_per_trade": 1.0,
            "updated_at": "2025-09-30T20:19:47.650839"
          },
          "bots": {
            "test_bot": {
              "enabled": true,
              "strategy": "ai_trading",
              "symbol": "BTCUSDT",
              "amount": 100.0,
              "interval": "1h"
            }
          }
        },
        "timestamp": "2025-09-30T20:25:29.467795"
      }
    }
  ]
}